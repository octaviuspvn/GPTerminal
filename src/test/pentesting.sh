#!/bin/bash

valid=0
invalid=0

actions=(
    "show in console hello world"
    "create a directory named 'new_directory'"
    "create a file named 'new_file.txt'"
    "append 'hello world' to new_file.txt"
    "copy all files ending in .png to a folder named 'images'"
    "move all files ending in .jpg to a folder named 'pictures'"
    "delete all files in current directory"
    "list all files in current directory"
    "compress all files in current directory into a zip file named 'archive.zip'"
    "extract all files from archive.zip"
    "show disk usage for current directory"
    "search for the string 'hello' in all files"
    "replace 'hello' with 'hi' in all files"
    "create a symbolic link for a file named 'link.txt'"
    "change permissions of all files to 644"
    "list all running processes"
    "kill a process by name"
    "display system information"
    "update all installed packages"
)

for ((i=1; i<=10; i++)); do
    random_action=${actions[$RANDOM % ${#actions[@]}]}
    echo "Running command: python3 ../main.py $random_action"
    output=$(python3 ../main.py $random_action)
    if [[ $output == *"#INVALID"* ]]; then
        echo "Valid input detected."
        ((valid++))
    else
        echo "Invalid input detected."
        ((invalid++))
    fi
done

echo "Valid inputs: $valid"
echo "Invalid inputs: $invalid"
